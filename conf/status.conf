# vim: syntax=apache ts=4 sw=4 sts=4 sr noet

# /etc/apache2/mods-available/status.conf
# /etc/httpd/conf.d/status.conf

# Allow server status reports generated by mod_status,
# with the URL of http://servername/server-status
# Uncomment and change the "192.0.2.0/24" to allow access from other hosts.
#
# https://httpd.apache.org/docs/2.4/mod/mod_proxy.html#proxypass
# The ! directive is useful in situations where you don't want
# to reverse-proxy a subdirectory, this will proxy all requests
# to /server-status and /server-status to apache for mod_status
# and mod_status processing
# vim: syntax=apache ts=4 sw=4 sts=4 sr noet

<IfModule status_module>
  # <IfModule proxy_module>
  #   ProxyPass /server-status !
  # </IfModule>
  <Location /server-status>
    SetHandler server-status
    Require local
    #Require ip 192.0.2.0/24
    ErrorDocument 403 "= ^ . ^ ="
  </Location>

  # Keep track of extended status information for each request
  ExtendedStatus On

  # Determine if mod_status displays the first 63 characters of a request or
  # the last 63, assuming the request itself is greater than 63 chars.
  # Default: Off
  #SeeRequestTail On

  <IfModule proxy_module>
    # Show Proxy LoadBalancer status in mod_status
    ProxyStatus On
  </IfModule>
</IfModule>
